<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:DominoNext.ViewModels.Settings"
        xmlns:models="using:DominoNext.Models.Settings"
        xmlns:converters="using:DominoNext.Views.Converters"
        xmlns:controls="using:Avalonia.Controls"
        xmlns:localControls="using:DominoNext.Views.Controls"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="900" d:DesignHeight="700"
        x:Class="DominoNext.Views.Settings.SettingsWindow"
        x:DataType="vm:SettingsWindowViewModel"
        Title="è®¾ç½® - DominoNext"
        Width="900" Height="700"
        MinWidth="800" MinHeight="600"
        WindowStartupLocation="CenterOwner"
        ShowInTaskbar="False"
        Icon="/Assets/avalonia-logo.ico"
        FontFamily="Microsoft YaHei">

	<Window.Resources>
		<converters:ObjectEqualsConverter x:Key="ObjectEqualsConverter"/>
	</Window.Resources>

	<Design.DataContext>
		<vm:SettingsWindowViewModel/>
	</Design.DataContext>

	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="*"/>
		</Grid.RowDefinitions>

		<!-- ä¸»å†…å®¹åŒºåŸŸ -->
		<Grid Grid.Row="0">
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="250"/>
				<ColumnDefinition Width="*"/>
			</Grid.ColumnDefinitions>

			<!-- å·¦ä¾§å¯¼èˆª -->
			<Border Grid.Column="0"
                    Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                    BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                    BorderThickness="0,0,1,0">
				<ScrollViewer>
					<StackPanel Margin="10">
						<TextBlock Text="è®¾ç½®ç±»åˆ«"
                                   FontWeight="Bold"
                                   FontSize="16"
                                   Margin="0,0,0,15"/>

						<ItemsControl ItemsSource="{Binding Pages}">
							<ItemsControl.ItemTemplate>
								<DataTemplate DataType="models:SettingsPageInfo">
									<Button Classes="SettingsNavButton"
                                            Command="{Binding $parent[ItemsControl].DataContext.SelectPageCommand}"
                                            CommandParameter="{Binding Type}"
                                            HorizontalAlignment="Stretch"
                                            HorizontalContentAlignment="Left"
                                            Margin="0,2">
										<Button.Styles>
											<Style Selector="Button.SettingsNavButton">
												<Setter Property="Background" Value="Transparent"/>
												<Setter Property="BorderThickness" Value="0"/>
												<Setter Property="Padding" Value="12,8"/>
												<Setter Property="CornerRadius" Value="4"/>
											</Style>
											<Style Selector="Button.SettingsNavButton:pointerover">
												<Setter Property="Background" Value="{DynamicResource SystemControlHighlightListLowBrush}"/>
											</Style>
										</Button.Styles>

										<StackPanel Orientation="Horizontal">
											<TextBlock Text="{Binding Icon}"
                                                       FontSize="16"
                                                       VerticalAlignment="Center"
                                                       Margin="0,0,8,0"/>
											<StackPanel>
												<TextBlock Text="{Binding Title}"
                                                           FontWeight="Medium"/>
												<TextBlock Text="{Binding Description}"
                                                           FontSize="12"
                                                           Opacity="0.7"/>
											</StackPanel>
										</StackPanel>
									</Button>
								</DataTemplate>
							</ItemsControl.ItemTemplate>
						</ItemsControl>
					</StackPanel>
				</ScrollViewer>
			</Border>

			<!-- å³ä¾§å†…å®¹åŒºåŸŸ -->
			<ScrollViewer Grid.Column="1" Padding="30,20">
				<StackPanel>
					<!-- å¸¸è§„è®¾ç½® -->
					<StackPanel IsVisible="{Binding SelectedPageType, Converter={StaticResource ObjectEqualsConverter}, ConverterParameter={x:Static models:SettingsPageType.General}}">
						<TextBlock Text="å¸¸è§„è®¾ç½®" FontSize="24" FontWeight="Bold" Margin="0,0,0,20"/>

						<StackPanel Spacing="20">
							<!-- è‡ªåŠ¨ä¿å­˜ -->
							<StackPanel>
								<TextBlock Text="è‡ªåŠ¨ä¿å­˜" FontWeight="Medium" Margin="0,0,0,8"/>
								<CheckBox Content="å¯ç”¨è‡ªåŠ¨ä¿å­˜" IsChecked="{Binding Settings.AutoSave}"/>

								<StackPanel Orientation="Horizontal"
                                            Margin="0,8,0,0"
                                            IsVisible="{Binding Settings.AutoSave}">
									<TextBlock Text="ä¿å­˜é—´éš”:" VerticalAlignment="Center" Margin="0,0,8,0"/>
									<NumericUpDown Value="{Binding Settings.AutoSaveInterval}"
                                                   Minimum="1" Maximum="60"
                                                   Width="80"
                                                   VerticalAlignment="Center"/>
									<TextBlock Text="åˆ†é’Ÿ" VerticalAlignment="Center" Margin="8,0,0,0"/>
								</StackPanel>
							</StackPanel>

							<CheckBox Content="ä½¿ç”¨åŽŸç”Ÿèœå•æ " IsChecked="{Binding Settings.UseNativeMenuBar}"/>

							<StackPanel>
								<TextBlock Text="æœ€å¤§æ’¤é”€æ­¥æ•°" FontWeight="Medium" Margin="0,0,0,8"/>
								<NumericUpDown Value="{Binding Settings.MaxUndoSteps}"
                                               Minimum="10" Maximum="1000"
                                               Width="100"/>
							</StackPanel>

							<CheckBox Content="åˆ é™¤å‰ç¡®è®¤" IsChecked="{Binding Settings.ConfirmBeforeDelete}"/>
						</StackPanel>
					</StackPanel>

					<!-- è¯­è¨€è®¾ç½® -->
					<StackPanel IsVisible="{Binding SelectedPageType, Converter={StaticResource ObjectEqualsConverter}, ConverterParameter={x:Static models:SettingsPageType.Language}}">
						<TextBlock Text="è¯­è¨€è®¾ç½®" FontSize="24" FontWeight="Bold" Margin="0,0,0,20"/>

						<StackPanel Spacing="15">
							<TextBlock Text="é€‰æ‹©ç•Œé¢è¯­è¨€:" FontWeight="Medium"/>

							<ItemsControl ItemsSource="{Binding LanguageOptions}">
								<ItemsControl.ItemTemplate>
									<DataTemplate DataType="models:LanguageOption">
										<RadioButton GroupName="Language"
                                                     Content="{Binding NativeName}"
                                                     IsChecked="{Binding Code, Converter={StaticResource ObjectEqualsConverter}, ConverterParameter={Binding $parent[Window].DataContext.SelectedLanguageCode}}"
                                                     Command="{Binding $parent[Window].DataContext.ApplyLanguageCommand}"
                                                     CommandParameter="{Binding Code}"
                                                     Margin="0,4"/>
									</DataTemplate>
								</ItemsControl.ItemTemplate>
							</ItemsControl>

							<TextBlock Text="æ³¨æ„ï¼šæ›´æ”¹è¯­è¨€åŽéœ€è¦é‡å¯åº”ç”¨ç¨‹åºæ‰èƒ½å®Œå…¨ç”Ÿæ•ˆã€‚"
                                       FontStyle="Italic"
                                       Opacity="0.7"
                                       Margin="0,10,0,0"/>
						</StackPanel>
					</StackPanel>

					<!-- ä¸»é¢˜è®¾ç½® -->
					<StackPanel IsVisible="{Binding SelectedPageType, Converter={StaticResource ObjectEqualsConverter}, ConverterParameter={x:Static models:SettingsPageType.Theme}}">
						<TextBlock Text="ä¸»é¢˜è®¾ç½®" FontSize="24" FontWeight="Bold" Margin="0,0,0,20"/>

						<StackPanel Spacing="15">
							<TextBlock Text="é€‰æ‹©åº”ç”¨ä¸»é¢˜:" FontWeight="Medium"/>

							<ItemsControl ItemsSource="{Binding ThemeOptions}">
								<ItemsControl.ItemTemplate>
									<DataTemplate DataType="models:ThemeOption">
										<RadioButton GroupName="Theme"
                                                     IsChecked="{Binding Key, Converter={StaticResource ObjectEqualsConverter}, ConverterParameter={Binding $parent[Window].DataContext.SelectedThemeKey}}"
                                                     Command="{Binding $parent[Window].DataContext.ApplyThemeCommand}"
                                                     CommandParameter="{Binding Key}"
                                                     Margin="0,8" VerticalAlignment="Center">
											<StackPanel>
												<TextBlock Text="{Binding Name}" FontWeight="Medium" VerticalAlignment="Center"/>
												<TextBlock Text="{Binding Description}"
                                                           FontSize="12"
                                                           Opacity="0.7"
                                                           VerticalAlignment="Center"/>
											</StackPanel>
										</RadioButton>
									</DataTemplate>
								</ItemsControl.ItemTemplate>
							</ItemsControl>

							<!-- è‡ªå®šä¹‰ä¸»é¢˜è®¾ç½®é¢æ¿ -->
							<Border IsVisible="{Binding IsCustomThemeSelected}"
                                    Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
                                    BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
                                    BorderThickness="1"
                                    CornerRadius="8"
                                    Padding="20"
                                    Margin="0,20,0,0">
								<StackPanel Spacing="20">
									<StackPanel Orientation="Horizontal" Spacing="15">
										<TextBlock Text="ðŸŽ¨ è‡ªå®šä¹‰é¢œè‰²è®¾ç½®" FontSize="18" FontWeight="Bold" VerticalAlignment="Center"/>
										<Button Content="é‡ç½®ä¸ºå½“å‰ä¸»é¢˜é»˜è®¤å€¼"
                                                Command="{Binding ResetAllColorsCommand}"
                                                FontSize="12"
                                                Padding="8,4"
                                                VerticalAlignment="Center"
                                                ToolTip.Tip="å°†æ‰€æœ‰é¢œè‰²é‡ç½®ä¸ºå½“å‰é€‰æ‹©ä¸»é¢˜çš„é»˜è®¤å€¼"/>
									</StackPanel>

									<!-- é¢œè‰²è®¾ç½®åˆ†ç»„æ˜¾ç¤º -->
									<ItemsControl ItemsSource="{Binding ColorSettingGroups}">
										<ItemsControl.ItemTemplate>
											<DataTemplate DataType="models:ColorSettingGroup">
												<Expander Header="{Binding GroupName}" 
                                                          IsExpanded="True"
                                                          Margin="0,10,0,0">
													<Expander.HeaderTemplate>
														<DataTemplate>
															<StackPanel Orientation="Horizontal" Spacing="8">
																<TextBlock Text="{Binding}" FontWeight="Medium" FontSize="14"/>
															</StackPanel>
														</DataTemplate>
													</Expander.HeaderTemplate>
												
													<StackPanel Margin="15,10,0,0" Spacing="12">
														<!-- åˆ†ç»„æè¿° -->
														<TextBlock Text="{Binding Description}" 
                                                                   FontSize="12" 
                                                                   Opacity="0.7"
                                                                   Margin="0,0,0,5"/>
												
														<!-- è¯¥åˆ†ç»„çš„é¢œè‰²è®¾ç½®é¡¹ -->
														<ItemsControl ItemsSource="{Binding Items}">
															<ItemsControl.ItemTemplate>
																<DataTemplate DataType="models:ColorSettingItem">
																	<Grid Margin="0,8">
																		<Grid.ColumnDefinitions>
																			<ColumnDefinition Width="140"/>
																			<ColumnDefinition Width="200"/>
																			<ColumnDefinition Width="*"/>
																		</Grid.ColumnDefinitions>
																		
																		<TextBlock Grid.Column="0" 
																				   Text="{Binding DisplayName}" 
																				   FontWeight="Medium"
																				   VerticalAlignment="Center"/>
																		
																		<StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8">
																			<!-- é¢œè‰²é¢„è§ˆ -->
																			<Border Width="30" Height="20"
																					BorderThickness="1"
																					BorderBrush="Gray"
																					CornerRadius="4"
																					VerticalAlignment="Center"
																					Background="LightGray"
																					ToolTip.Tip="é¢œè‰²é¢„è§ˆ"/>
																			
																			<!-- åå…­è¿›åˆ¶è¾“å…¥æ¡† -->
																			<TextBox Width="90"
																					 Height="24"
																					 VerticalAlignment="Center"
																					 FontFamily="Consolas"
																					 FontSize="11"
																					 Padding="4,0"
																					 VerticalContentAlignment="Center"
																					 ToolTip.Tip="åå…­è¿›åˆ¶é¢œè‰²å€¼"
																					 Watermark="#FFFFFFFF"/>
																			
																			<TextBlock Text="ï¼ˆå½“å‰ä¸ºé™æ€é¢„è§ˆï¼‰" 
																					   FontSize="10" 
																					   Opacity="0.6"
																					   VerticalAlignment="Center"/>
																		</StackPanel>
																		
																		<!-- æè¿° -->
																		<TextBlock Grid.Column="2"
																				   Text="{Binding Description}"
																				   FontSize="11"
																				   Opacity="0.7"
																				   VerticalAlignment="Center"
																				   TextWrapping="Wrap"
																				   Margin="10,0,0,0"/>
																	</Grid>
																</DataTemplate>
															</ItemsControl.ItemTemplate>
														</ItemsControl>
													</StackPanel>
												</Expander>
											</DataTemplate>
										</ItemsControl.ItemTemplate>
									</ItemsControl>

									<Border Background="{DynamicResource SystemControlBackgroundBaseLowBrush}"
                                            CornerRadius="6"
                                            Padding="15"
                                            Margin="0,10,0,0">
										<StackPanel Spacing="8">
											<TextBlock Text="ðŸ’¡ æç¤º" FontWeight="Medium" FontSize="14"/>
											<TextBlock TextWrapping="Wrap" FontSize="12" Opacity="0.8">
												<Run Text="â€¢ æ¯ä¸ªé¢œè‰²éƒ½å¯ä»¥ç‹¬ç«‹è°ƒæ•´ï¼Œç‚¹å‡»é¢œè‰²å—å¯ä»¥æ‰“å¼€é¢œè‰²é€‰æ‹©å™¨"/>
												<LineBreak/>
												<Run Text="â€¢ ä¹Ÿå¯ä»¥ç›´æŽ¥åœ¨æ–‡æœ¬æ¡†ä¸­è¾“å…¥åå…­è¿›åˆ¶é¢œè‰²å€¼ (å¦‚: #FF4CAF50)"/>
												<LineBreak/>
												<Run Text="â€¢ ä¿®æ”¹ä»»ä½•é¢œè‰²åŽä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°'è‡ªå®šä¹‰'ä¸»é¢˜"/>
												<LineBreak/>
												<Run Text="â€¢ å¯ä»¥ç‚¹å‡»'é‡ç½®'æŒ‰é’®æ¢å¤å½“å‰ä¸»é¢˜çš„é»˜è®¤é¢œè‰²"/>
											</TextBlock>
										</StackPanel>
									</Border>
								</StackPanel>
							</Border>
						</StackPanel>
					</StackPanel>

					<!-- ç¼–è¾‘å™¨è®¾ç½® -->
					<StackPanel IsVisible="{Binding SelectedPageType, Converter={StaticResource ObjectEqualsConverter}, ConverterParameter={x:Static models:SettingsPageType.Editor}}">
						<TextBlock Text="ç¼–è¾‘å™¨è®¾ç½®" FontSize="24" FontWeight="Bold" Margin="0,0,0,20"/>

						<StackPanel Spacing="20">
							<StackPanel>
								<TextBlock Text="ç½‘æ ¼å’Œå¯¹é½" FontWeight="Medium" Margin="0,0,0,8"/>
								<CheckBox Content="æ˜¾ç¤ºç½‘æ ¼çº¿" IsChecked="{Binding Settings.ShowGridLines}"/>
								<CheckBox Content="å¯ç”¨ç½‘æ ¼å¯¹é½" IsChecked="{Binding Settings.SnapToGrid}" Margin="0,8,0,0"/>
							</StackPanel>

							<StackPanel>
								<TextBlock Text="æ˜¾ç¤ºé€‰é¡¹" FontWeight="Medium" Margin="0,0,0,8"/>
								<CheckBox Content="æ˜¾ç¤ºåŠ›åº¦æ¡" IsChecked="{Binding Settings.ShowVelocityBars}"/>
							</StackPanel>

							<StackPanel>
								<TextBlock Text="é»˜è®¤ç¼©æ”¾" FontWeight="Medium" Margin="0,0,0,8"/>
								<Slider Value="{Binding Settings.DefaultZoom}"
                                        Minimum="0.1" Maximum="5.0"
                                        TickFrequency="0.1"
                                        Width="200"
                                        HorizontalAlignment="Left"/>
								<TextBlock Text="{Binding Settings.DefaultZoom, StringFormat='{}{0:F1}x'}"
                                           Margin="0,4,0,0"/>
							</StackPanel>

							<StackPanel>
								<TextBlock Text="é’¢ç´é”®å®½åº¦" FontWeight="Medium" Margin="0,0,0,8"/>
								<NumericUpDown Value="{Binding Settings.PianoKeyWidth}"
                                               Minimum="40" Maximum="120"
                                               Width="100"/>
							</StackPanel>
						</StackPanel>
					</StackPanel>

					<!-- å¿«æ·é”®è®¾ç½® -->
					<StackPanel IsVisible="{Binding SelectedPageType, Converter={StaticResource ObjectEqualsConverter}, ConverterParameter={x:Static models:SettingsPageType.Shortcuts}}">
						<TextBlock Text="å¿«æ·é”®è®¾ç½®" FontSize="24" FontWeight="Bold" Margin="0,0,0,20"/>

						<StackPanel Spacing="15">
							<CheckBox Content="å¯ç”¨é”®ç›˜å¿«æ·é”®" IsChecked="{Binding Settings.EnableKeyboardShortcuts}"/>

							<StackPanel Orientation="Horizontal" Spacing="10" Margin="0,10,0,0">
								<Button Content="é‡ç½®æ‰€æœ‰å¿«æ·é”®" Command="{Binding ResetAllShortcutsCommand}"/>
							</StackPanel>

							<controls:DataGrid ItemsSource="{Binding ShortcutSettings}"
                                      AutoGenerateColumns="False"
                                      CanUserReorderColumns="False"
                                      CanUserResizeColumns="True"
                                      CanUserSortColumns="True"
                                      GridLinesVisibility="Horizontal"
                                      HeadersVisibility="Column"
                                      MinHeight="300"
                                      VerticalAlignment="Stretch">
								<controls:DataGrid.Columns>
									<controls:DataGridTextColumn Header="ç±»åˆ«" Binding="{Binding Category}" Width="80" IsReadOnly="True"/>
									<controls:DataGridTextColumn Header="å‘½ä»¤" Binding="{Binding Description}" Width="150" IsReadOnly="True"/>
									<controls:DataGridTextColumn Header="å¿«æ·é”®" Binding="{Binding CurrentShortcut}" Width="120"/>
									<controls:DataGridTextColumn Header="é»˜è®¤" Binding="{Binding DefaultShortcut}" Width="120" IsReadOnly="True"/>
									<controls:DataGridTemplateColumn Header="æ“ä½œ" Width="80">
										<controls:DataGridTemplateColumn.CellTemplate>
											<DataTemplate>
												<Button Content="é‡ç½®"
                                                        Command="{Binding $parent[controls:DataGrid].DataContext.ResetShortcutCommand}"
                                                        CommandParameter="{Binding}"
                                                        HorizontalAlignment="Center"
                                                        VerticalAlignment="Center"/>
											</DataTemplate>
										</controls:DataGridTemplateColumn.CellTemplate>
									</controls:DataGridTemplateColumn>
								</controls:DataGrid.Columns>
							</controls:DataGrid>
						</StackPanel>
					</StackPanel>

					<!-- é«˜çº§è®¾ç½® -->
					<StackPanel IsVisible="{Binding SelectedPageType, Converter={StaticResource ObjectEqualsConverter}, ConverterParameter={x:Static models:SettingsPageType.Advanced}}">
						<TextBlock Text="é«˜çº§è®¾ç½®" FontSize="24" FontWeight="Bold" Margin="0,0,0,20"/>

						<StackPanel Spacing="20">
							<TextBlock Text="è°ƒè¯•å’Œæ€§èƒ½é€‰é¡¹" FontWeight="Medium"/>

							<Button Content="é‡ç½®æ‰€æœ‰è®¾ç½®"
                                    Command="{Binding ResetToDefaultsCommand}"
                                    HorizontalAlignment="Left"
                                    Background="Orange"
                                    Foreground="White"/>

							<TextBlock Text="è­¦å‘Šï¼šé‡ç½®æ‰€æœ‰è®¾ç½®å°†æ¢å¤ä¸ºé»˜è®¤å€¼ï¼Œæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚"
                                       FontStyle="Italic"
                                       Opacity="0.7"/>

							<StackPanel Orientation="Horizontal" Spacing="10" Margin="0,20,0,0">
								<Button Content="ä»Žæ–‡ä»¶åŠ è½½è®¾ç½®"
                                        Click="LoadSettingsFromFile_Click"
                                        ToolTip.Tip="ä»Žé…ç½®æ–‡ä»¶é‡æ–°åŠ è½½è®¾ç½®"/>
								<Button Content="ä¿å­˜è®¾ç½®åˆ°æ–‡ä»¶"
                                        Click="SaveSettingsToFile_Click"
                                        ToolTip.Tip="å°†å½“å‰è®¾ç½®ä¿å­˜åˆ°é…ç½®æ–‡ä»¶"/>
							</StackPanel>
						</StackPanel>
					</StackPanel>

					<!-- æ’­è¡¨è®¾ç½® -->
					<StackPanel IsVisible="{Binding SelectedPageType, Converter={StaticResource ObjectEqualsConverter}, ConverterParameter={x:Static models:SettingsPageType.Audio}}">
						<TextBlock Text="æ’­è¡¨è®¾ç½®" FontSize="24" FontWeight="Bold" Margin="0,0,0,20"/>

						<StackPanel Spacing="20">
							<StackPanel>
								<TextBlock Text="MIDIæ’­è¡¨" FontWeight="Medium" Margin="0,0,0,8"/>
								<TextBlock Text="é€‰æ‹©MIDIæ’­è¡¨è®¾å¤‡:" FontSize="12" Opacity="0.7" Margin="0,0,0,8"/>
								
								<!-- æ’­è¡¨é€‰æ‹©ä¸‹æ‹‰æ¡† -->
								<ComboBox SelectedIndex="{Binding Settings.WaveTableId}"
										  MinWidth="200"
										  HorizontalAlignment="Left">
									<ComboBoxItem>Microsoft GS Wavetable Synth</ComboBoxItem>
									<ComboBoxItem>é»˜è®¤MIDIè®¾å¤‡</ComboBoxItem>
									<ComboBoxItem>è‡ªå®šä¹‰æ’­è¡¨</ComboBoxItem>
								</ComboBox>
							</StackPanel>

							<StackPanel>
								<TextBlock Text="MIDIè®¾å¤‡" FontWeight="Medium" Margin="0,0,0,8"/>
								<TextBlock Text="é€‰æ‹©MIDIè¾“å‡ºè®¾å¤‡:" FontSize="12" Opacity="0.7" Margin="0,0,0,8"/>
								
								<!-- MIDIè®¾å¤‡é€‰æ‹©ä¸‹æ‹‰æ¡† -->
								<ComboBox SelectedIndex="{Binding Settings.MidiDeviceId}"
										  MinWidth="200"
										  HorizontalAlignment="Left">
									<ComboBoxItem>é»˜è®¤è®¾å¤‡</ComboBoxItem>
									<ComboBoxItem>Microsoft GS Wavetable Synth</ComboBoxItem>
									<ComboBoxItem>è™šæ‹ŸMIDIè®¾å¤‡</ComboBoxItem>
								</ComboBox>
							</StackPanel>

							<StackPanel>
								<TextBlock Text="éŸ³é¢‘åé¦ˆ" FontWeight="Medium" Margin="0,0,0,8"/>
								<CheckBox Content="å¯ç”¨éŸ³é¢‘åé¦ˆ" IsChecked="{Binding Settings.EnableAudioFeedback}"/>
								<TextBlock Text="åœ¨é’¢ç´å·å¸˜ä¸Šæ”¾ç½®éŸ³ç¬¦æ—¶æ’­æ”¾å¯¹åº”çš„å£°éŸ³" FontSize="11" Opacity="0.6" Margin="20,4,0,0" 
										   IsVisible="{Binding Settings.EnableAudioFeedback}"/>
							</StackPanel>

							<!-- æµ‹è¯•éŸ³é¢‘æŒ‰é’® -->
							<StackPanel Orientation="Horizontal" Spacing="10" Margin="0,20,0,0">
								<Button Content="æµ‹è¯•C4éŸ³ç¬¦"
										Background="Green"
										Foreground="White"
										Click="TestC4Note_Click"/>
								<Button Content="æµ‹è¯•C5éŸ³ç¬¦"
										Background="Blue"
										Foreground="White"
										Click="TestC5Note_Click"/>
							</StackPanel>

							<Border Background="{DynamicResource SystemControlBackgroundAltHighBrush}"
									BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}"
									BorderThickness="1"
									CornerRadius="8"
									Padding="15"
									Margin="0,20,0,0">
								<StackPanel Spacing="8">
									<TextBlock Text="ðŸ’¡ æç¤º" FontWeight="Medium" FontSize="14"/>
									<TextBlock TextWrapping="Wrap" FontSize="12" Opacity="0.8">
										<Run Text="â€¢ æ’­è¡¨è®¾ç½®ä¼šå½±å“é’¢ç´å·å¸˜ä¸­éŸ³ç¬¦çš„æ’­æ”¾å£°éŸ³"/>
										<LineBreak/>
										<Run Text="â€¢ å»ºè®®å¯ç”¨éŸ³é¢‘åé¦ˆä»¥èŽ·å¾—æ›´å¥½çš„åˆ›ä½œä½“éªŒ"/>
										<LineBreak/>
										<Run Text="â€¢ å¯ä»¥ä½¿ç”¨æµ‹è¯•æŒ‰é’®éªŒè¯æ’­è¡¨æ˜¯å¦æ­£å¸¸å·¥ä½œ"/>
									</TextBlock>
								</StackPanel>
							</Border>
						</StackPanel>
					</StackPanel>
				</StackPanel>
			</ScrollViewer>
		</Grid>
	</Grid>
</Window>