<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:Lumino.ViewModels"
        x:Class="Lumino.Views.ProjectSettingsWindow"
        x:DataType="vm:ProjectSettingsViewModel"
        Title="å·¥ç¨‹è®¾ç½®"
        Width="600"
        Height="500"
        WindowStartupLocation="CenterOwner"
        CanResize="False"
        Icon="/Assets/avalonia-logo.ico">

    <Design.DataContext>
        <vm:ProjectSettingsViewModel />
    </Design.DataContext>

    <Window.Styles>
        <Style Selector="TextBlock.SectionHeader">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Margin" Value="0,20,0,10"/>
        </Style>

        <Style Selector="TextBlock.FieldLabel">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Margin" Value="0,10,0,5"/>
        </Style>

        <Style Selector="TextBox">
            <Setter Property="Padding" Value="8"/>
            <Setter Property="FontSize" Value="14"/>
        </Style>

        <Style Selector="NumericUpDown">
            <Setter Property="Padding" Value="8"/>
            <Setter Property="FontSize" Value="14"/>
        </Style>
    </Window.Styles>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- è®¾ç½®å†…å®¹åŒºåŸŸ -->
        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto">
            <StackPanel Spacing="5">
                <!-- åŸºæœ¬ä¿¡æ¯ -->
                <TextBlock Text="åŸºæœ¬ä¿¡æ¯" Classes="SectionHeader"/>
                
                <TextBlock Text="é¡¹ç›®åç§°" Classes="FieldLabel"/>
                <TextBox Text="{Binding ProjectName}"
                         Watermark="è¾“å…¥é¡¹ç›®åç§°ï¼ˆå°†æ˜¾ç¤ºåœ¨æ ‡é¢˜æ ï¼‰"/>

                <!-- éŸ³ä¹è®¾ç½® -->
                <TextBlock Text="éŸ³ä¹è®¾ç½®" Classes="SectionHeader"/>
                
                <TextBlock Text="BPMï¼ˆæ¯åˆ†é’ŸèŠ‚æ‹æ•°ï¼‰" Classes="FieldLabel"/>
                <NumericUpDown Value="{Binding Bpm}"
                               Minimum="20"
                               Maximum="999"
                               Increment="1"
                               FormatString="0.00"
                               Watermark="ä¾‹å¦‚ï¼š120"/>

                <TextBlock Text="PPQï¼ˆæ¯å››åˆ†éŸ³ç¬¦Tickæ•° - MIDIåˆ†è¾¨çŽ‡ï¼‰" Classes="FieldLabel"/>
                <NumericUpDown Value="{Binding Ppq}"
                               Minimum="96"
                               Maximum="9600"
                               Increment="96"
                               FormatString="0"
                               Watermark="é»˜è®¤ï¼š1920"/>

                <TextBlock Text="ðŸ’¡ æç¤ºï¼šæ›´é«˜çš„PPQå€¼å¯æä¾›æ›´ç²¾ç¡®çš„æ—¶é—´åˆ†è¾¨çŽ‡ï¼ŒæŽ¨èä½¿ç”¨1920"
                           FontSize="12"
                           Foreground="Gray"
                           Margin="0,5,0,0"
                           TextWrapping="Wrap"/>

                <!-- MIDIå…ƒæ•°æ® -->
                <TextBlock Text="MIDIå…ƒæ•°æ®" Classes="SectionHeader"/>
                
                <TextBlock Text="ä½œè€…" Classes="FieldLabel"/>
                <TextBox Text="{Binding MidiAuthor}"
                         Watermark="è¾“å…¥ä½œè€…åç§°"/>

                <TextBlock Text="ç®€ä»‹/ç‰ˆæƒä¿¡æ¯" Classes="FieldLabel"/>
                <TextBox Text="{Binding MidiDescription}"
                         AcceptsReturn="True"
                         TextWrapping="Wrap"
                         MinHeight="100"
                         MaxHeight="150"
                         Watermark="è¾“å…¥é¡¹ç›®ç®€ä»‹æˆ–ç‰ˆæƒä¿¡æ¯"/>
            </StackPanel>
        </ScrollViewer>

        <!-- åº•éƒ¨æŒ‰é’®åŒºåŸŸ -->
        <Border Grid.Row="1"
                BorderBrush="#E0E0E0"
                BorderThickness="0,1,0,0"
                Padding="0,15,0,0"
                Margin="0,15,0,0">
            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Right"
                        Spacing="10">
                <Button Content="é‡ç½®ä¸ºé»˜è®¤"
                        Command="{Binding ResetToDefaultCommand}"
                        Width="120"
                        Height="35"
                        HorizontalContentAlignment="Center"/>
                
                <Button Content="å–æ¶ˆ"
                        Command="{Binding CancelCommand}"
                        Width="100"
                        Height="35"
                        HorizontalContentAlignment="Center"/>
                
                <Button Content="ä¿å­˜"
                        Command="{Binding SaveCommand}"
                        Width="100"
                        Height="35"
                        HorizontalContentAlignment="Center"
                        Classes="accent"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
